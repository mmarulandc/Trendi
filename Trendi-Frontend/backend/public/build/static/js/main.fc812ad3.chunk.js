(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t){e.exports="data:image/png;base64,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"},20:function(e,t,a){},31:function(e,t,a){e.exports=a(43)},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(27),s=a.n(o),c=a(2),i=a(3),l=a(5),m=a(4),u=a(6),h=a(14),d=a.n(h),p=a(17),g=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this))).handleChange=function(e){a.setState({trend:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.search(a.state.trend)},a.state={trend:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},r.a.createElement("a",{className:"navbar-brand",href:"/trendi"},this.props.header),r.a.createElement("form",{className:"form-inline",onSubmit:this.handleSubmit},r.a.createElement("input",{class:"form-control mr-sm-2",type:"search",onChange:this.handleChange,placeholder:"Search","aria-label":"Search"}),r.a.createElement("button",{class:"btn btn-outline-light my-2 my-sm-0",type:"submit"},"Buscar")),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},r.a.createElement("div",{className:"navbar-nav"})),r.a.createElement("button",{className:"btn btn-outline-light my-2 my-sm-0",onClick:this.props.handleLogout},"Log Out"))}}]),t}(r.a.Component),E=a(28),f=a(21),b=a.n(f),v=function(){function e(t){Object(c.a)(this,e),this.domain=t,this.fetch=this.fetch.bind(this),this.login=this.login.bind(this),this.getProfile=this.getProfile.bind(this)}return Object(i.a)(e,[{key:"login",value:function(e,t){var a=this;return this.fetch("/api/auth/login",{method:"POST",body:JSON.stringify({username:e,password:t})}).then(function(e){return a.setToken(e.token),Promise.resolve(e)})}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return b()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"setToken",value:function(e){localStorage.setItem("id_token",e)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"logout",value:function(){localStorage.removeItem("id_token")}},{key:"getProfile",value:function(){return b()(this.getToken())}},{key:"fetch",value:function(e){function t(t,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var a={Accept:"application/json","Content-Type":"application/json"};return this.loggedIn()&&(a.Authorization="Bearer "+this.getToken()),fetch(e,Object(E.a)({headers:a},t)).then(this._checkStatus).then(function(e){return e.json()})})},{key:"_checkStatus",value:function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}}]),e}();var y=a(10),A=(a(20),function(e){var t=e.commentary,a=e.deleteCommentary,n=e.updateCommentary,o=t.username===localStorage.getItem("username")?r.a.createElement("div",null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("button",{className:" btn btn-outline-light my-2 my-sm-0 bg-primary to-der",onClick:function(){return n(t)}},r.a.createElement("i",{class:"fas fa-edit"})),r.a.createElement("button",{className:" btn btn-outline-light my-2 my-sm-0 bg-danger to-der",onClick:function(){return a(t._id)}},r.a.createElement("i",{class:"fas fa-trash-alt"})),r.a.createElement("h3",{className:"card-title "},"@"+t.username),r.a.createElement("h4",{className:"card-subtitle mb-2 text-muted"},"#"+t.trend),r.a.createElement("p",{className:"card-text"},t.commentary)))):r.a.createElement("div",null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",{className:"card-title "},"@"+t.username),r.a.createElement("h4",{className:"card-subtitle mb-2 text-muted"},"#"+t.trend),r.a.createElement("p",{className:"card-text"},t.commentary))));return r.a.createElement("div",null,o)}),C=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",trend:"",commentary:"",id:"",error:"",hidden:!0},a.getCommentaries=function(){fetch("/api/post/").then(function(e){return e.json()}).then(function(e){a.setState({commentaries:e})})},a.updateCommentary=function(e){a.setState({trend:e.trend,commentary:e.commentary,id:e._id})},a.onSubmit=function(e){var t=a.state,n=t.trend,r=t.commentary;e.preventDefault(),""!==n&&""!==r?a.state.id?fetch("/api/post/".concat(a.state.id),{method:"PUT",body:JSON.stringify({trend:a.state.trend,commentary:a.state.commentary,id:a.state.id}),headers:{Authorization:localStorage.getItem("id_token"),Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){alert("Comment Updated"),a.setState({id:"",trend:"",commentary:"",error:""}),a.props.getCommentaries()}):fetch("/api/post/",{method:"POST",body:JSON.stringify({username:a.state.username,trend:a.state.trend,commentary:a.state.commentary,id:a.state.id}),headers:{Authorization:localStorage.getItem("id_token"),Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){a.setState({username:localStorage.getItem("username"),trend:"",commentary:"",error:""}),a.props.getCommentaries()}).catch(function(e){return console.log(e)}):a.setState({error:"Todos los campos son obligatorios",hidden:!1})},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(y.a)({},t,n))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(){this.setState({username:this.props.username})}},{key:"render",value:function(){var e=this,t=this.state.error;return r.a.createElement("div",{className:"container mt-2"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3  "},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",{className:"card-title"},"@"+this.props.username),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control mb-2",value:this.state.trend,name:"trend",id:"trend",placeholder:"Trend",onChange:this.onChange}),r.a.createElement("textarea",{className:"form-control",value:this.state.commentary,name:"commentary",id:"commentary",cols:"30",rows:"5",onChange:this.onChange}),r.a.createElement("button",{className:"btn btn-primary mt-2",type:"submit"},"Postear")),r.a.createElement("label",null,t))))),r.a.createElement("div",{className:"col-xl-6 bg-secondary "},this.props.commentaries.map(function(t){return r.a.createElement("div",{key:t._id,className:"row mt-1 mb-1"},r.a.createElement("div",{className:"col-md-12 "},r.a.createElement(A,{commentary:t,deleteCommentary:e.props.deleteComentary,updateCommentary:e.updateCommentary})))}))))}}]),t}(n.Component),N=new v,S=function(e){var t=new v("http://localhost:3000");return function(a){function n(){var e;return Object(c.a)(this,n),(e=Object(l.a)(this,Object(m.a)(n).call(this))).state={user:null},e}return Object(u.a)(n,a),Object(i.a)(n,[{key:"componentWillMount",value:function(){if(t.loggedIn())try{var e=t.getProfile();this.setState({user:e})}catch(a){t.logout(),this.props.history.replace("/")}else this.props.history.replace("/")}},{key:"render",value:function(){return this.state.user?r.a.createElement(e,{history:this.props.history,user:this.state.user}):null}}]),n}(n.Component)}(function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).updateCommentary=function(t){console.log(t),e.setState({editData:{id:t._id,trend:t.trend,commentary:t.commentary}})},e.deleteComentary=function(){var t=Object(p.a)(d.a.mark(function t(a){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log(a),window.confirm("Are you sure you want to delete it?")&&fetch("/api/post/".concat(a),{method:"DELETE",headers:{Authorization:localStorage.getItem("id_token"),Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){console.log(t),e.getCommentaries()});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.search=function(t){console.log(t),fetch("api/post/".concat(t),{method:"GET",headers:{Authorization:localStorage.getItem("id_token"),Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({commentaries:t.reverse()})})},e.getCommentaries=function(){fetch("/api/post/",{method:"GET",headers:{Authorization:localStorage.getItem("id_token"),Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({commentaries:t.reverse()})})},e.handleLogout=function(){N.logout(),e.props.history.replace("/")},e.state={username:"",commentaries:[],editData:{id:"",trend:"",commentary:""}},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){localStorage.setItem("username",this.props.user.username),this.setState({username:this.props.user.username}),this.getCommentaries(),alert("Bienvenido @"+localStorage.getItem("username"))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g,{header:"TRENDI",handleLogout:this.handleLogout,search:this.search}),r.a.createElement(C,{username:this.state.username,getCommentaries:this.getCommentaries,commentaryToUpdate:this.state.editData,commentaries:this.state.commentaries,deleteComentary:this.deleteComentary}))}}]),t}(n.Component)),w=a(13),j=a(12),I=a(11),D=a(18),O=a.n(D),k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this))).handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;if(""!==n&&""!==r){/[a-zA-Z0-9]/.test(n)?(a.props.sendName(a.state.username),a.Auth.login(a.state.username,a.state.password).then(function(e){a.props.history.replace("/trendi")}).catch(function(e){alert(e)})):a.setState({error:"El campo usuario solo debe tener alfanumericos",hidden:!1})}else a.setState({error:"Todos los campos son obligatorios",hidden:!1})},a.handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(y.a)({},t,n))},a.state={username:"",password:"",error:"",hideen:!0},a.Auth=new v,a.handleChange=a.handleChange.bind(Object(I.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(I.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.error;e.hidden;return r.a.createElement("div",null,r.a.createElement("div",{className:"container mt-3 "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"card col-6 center"},r.a.createElement("div",{className:"card-body"},r.a.createElement("img",{src:O.a,alt:"logo ",className:"logo-center"}),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"mt-3"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",value:this.state.username,onChange:this.handleChange,name:"username",id:"name",placeholder:"usuario"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",value:this.state.password,onChange:this.handleChange,name:"password",id:"pass",placeholder:"contrase\xf1a"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary mb-2"},"Ingreso"),r.a.createElement("label",{className:"ml-5"},r.a.createElement(w.b,{to:"/signup"},"Registrate"))),r.a.createElement("label",null,t))))))}}]),t}(n.Component),B=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){var a=t.target.value,n=t.target.name;e.setState(Object(y.a)({},n,a))},e.signup=function(){var t=Object(p.a)(d.a.mark(function t(a){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/auth/signup",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){console.log(t),t.success?e.setState({username:"",password:"",error:"",hidden:!0}):e.setState({error:t.message})}).catch(function(e){return console.log(e)});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;if(""!==n&&""!==r){var o=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})");if(/[a-zA-Z0-9]/.test(n))if(o.test(r)){e.signup({username:n,password:r});e.state.error}else e.setState({error:"La contrase\xf1a debe contener al menos una mayuscula, un n\xfamero y un caracter especial ",hidden:!1});else e.setState({error:"El campo usuario solo debe tener alfanumericos",hidden:!1})}else e.setState({error:"Todos los campos son obligatorios",hidden:!1})},e.state={username:"",password:"",error:"",hidden:!0},e.handleChange=e.handleChange.bind(Object(I.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(I.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.error;e.hidden;return r.a.createElement("div",null,r.a.createElement("div",{className:"container mt-3 "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"card col-6 center"},r.a.createElement("div",{className:"card-body"},r.a.createElement("img",{src:O.a,alt:"logo ",className:"logo-center"}),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"mt-3"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"username",id:"name",placeholder:"usuario",value:this.state.username,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",name:"password",id:"pass",placeholder:"contrase\xf1a",value:this.state.password,onChange:this.handleChange})),r.a.createElement("button",{type:"submit",class:"btn btn-primary mb-2"},"Registro"),r.a.createElement("label",{className:"ml-5"},r.a.createElement(w.b,{to:"/"},"Ya tienes cuenta? logeate"))),r.a.createElement("label",null,t))))))}}]),t}(n.Component),Q=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"404 NOT FOUND"))},x=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={comments:[{username:"",email:"",comment:"",trend:""}]},a.sendName=function(e){a.setState({username:e})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(w.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(j.c,null,r.a.createElement(j.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(k,Object.assign({},t,{sendName:e.sendName}))}}),r.a.createElement(j.a,{path:"/signup",component:B}),r.a.createElement(j.a,{path:"/trendi",render:function(t){return r.a.createElement(S,Object.assign({},t,{username:e.state.username}))}}),r.a.createElement(j.a,{component:Q}),"}/>")))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,1,2]]]);
//# sourceMappingURL=main.fc812ad3.chunk.js.map